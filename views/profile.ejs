<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Профіль – Залізнична каса</title>
</head>
<body class="bg-light">
<header style="padding-bottom: 60px;">
    <%- include('partials/header'); %>
</header>
<main>
    <section class="profile-header text-center bg-white">
        <div class="container p-3">
            <div class="container d-flex justify-content-center align-items-center gap-3">
                <h2 class="card-title fs-3 mb-0"><%= user.getFullName() %></h2>
                <a class="btn btn-outline-danger" href="/logout">Вийти</a>
            </div>

            <p class="card-text mb-1">
                <strong>Електронна пошта:</strong> <%= user.email %>
            </p>
            <p class="card-text mb-1">
                <strong>Телефон:</strong> <%= user.phone_number %>
            </p>
        </div>
        <hr>
    </section>
    <section class="container mt-4 text-center mt-5">
        <h3>Мої пасажири</h3>
        <table class="table table-striped mt-4">
            <thead>
            <tr>
                <th scope="col">Імʼя</th>
                <th scope="col">Прізвище</th>
                <th scope="col">Пільга</th>
                <th scope="col">Пільговий документ</th>
                <th scope="col">Номер пільгового документу</th>
            </tr>
            </thead>
            <tbody>
            <% user.passengers.forEach(passenger => { %>
                <tr>
                    <td><%= passenger.passenger_first_name %></td>
                    <td><%= passenger.passenger_last_name %></td>
                    <td><%= passenger.benefit ? passenger.benefit.benefit_name : '–' %></td>
                    <td><%= passenger.benefit ? passenger.benefit.document_name : '–' %></td>
                    <td><%= passenger.benefit ? passenger.benefit_document : '–' %></td>
                </tr>
            <% }) %>
            </tbody>
        </table>
    </section>
</main>
</body>
</html>